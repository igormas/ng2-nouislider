{"version":3,"file":"ng2-nouislider.js.map","sources":["ng://ng2-nouislider/nouislider.ts"],"sourcesContent":["import * as noUiSlider from 'nouislider';\nimport {\n    Component,\n    ElementRef,\n    EventEmitter,\n    forwardRef,\n    Input,\n    OnChanges,\n    Output,\n    NgModule,\n    Renderer2,\n    OnInit\n} from '@angular/core';\nimport {\n    ControlValueAccessor,\n    FormControl,\n    NG_VALUE_ACCESSOR\n} from '@angular/forms';\n\nexport interface NouiFormatter {\n    to(value: number): string;\n\n    from(value: string): number;\n}\n\nexport interface IPips {\n    mode: 'range';\n    density: number;\n}\n\nexport class DefaultFormatter implements NouiFormatter {\n    to(value: number): string {\n        // formatting with http://stackoverflow.com/a/26463364/478584\n        return String(parseFloat(parseFloat(String(value)).toFixed(2)));\n    }\n\n    from(value: string): number {\n        return parseFloat(value);\n    }\n}\n\n@Component({\n    selector: 'nouislider',\n    host: {\n        '[class.ng2-nouislider]': 'true'\n    },\n    template: '<div [attr.disabled]=\"disabled ? true : undefined\"></div>',\n    styles: [`\n        :host {\n            display: block;\n            margin-top: 1rem;\n            margin-bottom: 1rem;\n        }\n    `],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => NouisliderComponent),\n            multi: true\n        }\n    ]\n})\nexport class NouisliderComponent implements ControlValueAccessor, OnInit, OnChanges {\n\n    public slider: any;\n    public handles: any[];\n    @Input() public disabled: boolean; // tslint:disable-line\n    @Input() public behaviour: string;\n    @Input() public connect: boolean[];\n    @Input() public limit: number;\n    @Input() public min: number;\n    @Input() public max: number;\n    @Input() public step: number;\n    @Input() public format: NouiFormatter;\n    @Input() public pageSteps: number;\n    @Input() public config: any = {};\n    @Input() public ngModel: number | number[];\n    @Input() public keyboard: boolean;\n    @Input() public onKeydown: any;\n    @Input() public formControl: FormControl;\n    @Input() public tooltips: Array<any>;\n    @Input() public pips: IPips;\n    @Output() public change: EventEmitter<any> = new EventEmitter(true);\n    @Output() public update: EventEmitter<any> = new EventEmitter(true);\n    @Output() public slide: EventEmitter<any> = new EventEmitter(true);\n    @Output() public set: EventEmitter<any> = new EventEmitter(true);\n    @Output() public start: EventEmitter<any> = new EventEmitter(true);\n    @Output() public end: EventEmitter<any> = new EventEmitter(true);\n    private value: any;\n    private onChange: any = Function.prototype;\n    private onTouched: any = Function.prototype;\n\n    constructor(private el: ElementRef, private renderer: Renderer2) {\n    }\n\n    ngOnInit(): void {\n        let inputsConfig = JSON.parse(JSON.stringify({\n            behaviour: this.behaviour,\n            connect: this.connect,\n            limit: this.limit,\n            start: this.formControl !== undefined ? this.formControl.value : this.ngModel,\n            step: this.step,\n            pageSteps: this.pageSteps,\n            keyboard: this.keyboard,\n            onKeydown: this.onKeydown,\n            range: this.config.range || {\n                min: this.min,\n                max: this.max\n            },\n            pips: this.pips\n        }));\n\n        inputsConfig.format = this.format || this.config.format || new DefaultFormatter();\n        inputsConfig.tooltips = this.tooltips || this.config.tooltips;\n\n        this.slider = noUiSlider.create(\n            this.el.nativeElement.querySelector('div'),\n            Object.assign(this.config, inputsConfig)\n        );\n\n        this.handles = [].slice.call(this.el.nativeElement.querySelectorAll('.noUi-handle'));\n\n        if (this.config.keyboard) {\n            if (this.config.pageSteps === undefined) {\n                this.config.pageSteps = 10;\n            }\n            for (let handle of this.handles) {\n                handle.setAttribute('tabindex', 0);\n                handle.addEventListener('click', () => {\n                    handle.focus();\n                });\n                if (this.config.onKeydown === undefined) {\n                    handle.addEventListener('keydown', this.defaultKeyHandler);\n                } else {\n                    handle.addEventListener('keydown', this.config.onKeydown);\n                }\n            }\n        }\n\n        this.slider.on('set', (values: string[], handle: number, unencoded: number[]) => {\n            this.eventHandler(this.set, values, handle, unencoded);\n        });\n\n        this.slider.on('update', (values: string[], handle: number, unencoded: number[]) => {\n            this.update.emit(this.toValues(values));\n        });\n\n        this.slider.on('change', (values: string[], handle: number, unencoded: number[]) => {\n            this.change.emit(this.toValues(values));\n        });\n\n        this.slider.on('slide', (values: string[], handle: number, unencoded: number[]) => {\n            this.eventHandler(this.slide, values, handle, unencoded);\n        });\n\n        this.slider.on('start', (values: string[], handle: number, unencoded: number[]) => {\n            this.start.emit(this.toValues(values));\n        });\n\n        this.slider.on('end', (values: string[], handle: number, unencoded: number[]) => {\n            this.end.emit(this.toValues(values));\n        });\n    }\n\n    ngOnChanges(changes: any) {\n        if (this.slider && (changes.min || changes.max || changes.step)) {\n            setTimeout(() => {\n                this.slider.updateOptions({\n                    range: {\n                        min: this.min,\n                        max: this.max\n                    },\n                    step: this.step\n                });\n            });\n        }\n    }\n\n    toValues(values: string[]): any | any[] {\n        let v = values.map(this.config.format.from);\n        return (v.length == 1 ? v[0] : v);\n    }\n\n    writeValue(value: any): void {\n        if (this.slider) {\n            this.slider.set(value);\n        }\n    }\n\n    registerOnChange(fn: (value: any) => void) {\n        this.onChange = fn;\n    }\n\n    registerOnTouched(fn: () => {}): void {\n        this.onTouched = fn;\n    }\n\n    setDisabledState(isDisabled: boolean): void {\n        this.disabled = !!isDisabled;\n    }\n\n    private eventHandler = (emitter: EventEmitter<any>, values: string[], handle: number, unencoded: number[]) => {\n        let v = this.toValues(values);\n        let emitEvents = false;\n        if (this.value === undefined) {\n            this.value = v;\n            return;\n        }\n        if (Array.isArray(v) && this.value[handle] != v[handle]) {\n            emitEvents = true;\n        }\n        if (!Array.isArray(v) && this.value != v) {\n            emitEvents = true;\n        }\n        if (emitEvents) {\n            emitter.emit(v);\n            this.onChange(v);\n        }\n        if (Array.isArray(v)) {\n            this.value[handle] = v[handle];\n        } else {\n            this.value = v;\n        }\n    }\n\n    private defaultKeyHandler = (e: KeyboardEvent) => {\n        let stepSize: any[] = this.slider.steps();\n        let index = parseInt((<HTMLElement>e.target).getAttribute('data-handle'));\n        let sign = 1;\n        let multiplier: number = 1;\n        let step = 0;\n        let delta = 0;\n\n        switch (e.which) {\n            case 34:  // PageDown\n                multiplier = this.config.pageSteps;\n            case 40:  // ArrowDown\n            case 37:  // ArrowLeft\n                sign = -1;\n                step = stepSize[index][0];\n                e.preventDefault();\n                break;\n\n            case 33:  // PageUp\n                multiplier = this.config.pageSteps;\n            case 38:  // ArrowUp\n            case 39:  // ArrowRight\n                step = stepSize[index][1];\n                e.preventDefault();\n                break;\n\n            default:\n                break;\n        }\n\n        delta = sign * multiplier * step;\n        let newValue: number | number[];\n\n        if (Array.isArray(this.value)) {\n            newValue = [].concat(this.value);\n            newValue[index] = newValue[index] + delta;\n        } else {\n            newValue = this.value + delta;\n        }\n\n        this.slider.set(newValue);\n    }\n}\n\n@NgModule({\n    imports: [],\n    exports: [NouisliderComponent],\n    declarations: [NouisliderComponent],\n})\nexport class NouisliderModule {\n}\n"],"names":["noUiSlider.create","tslib_1.__values"],"mappings":"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"}
